<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Agricure - Supplement Store</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
      min-height: 100vh;
    }

    .navbar {
      background: linear-gradient(135deg, #2ecc71, #27ae60);
      padding: 20px 0;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .nav-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.8em;
      font-weight: 700;
      color: white;
      text-decoration: none;
    }

    .logo-icon {
      font-size: 1.3em;
    }

    .btn-back {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      padding: 10px 25px;
      border: 2px solid white;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
    }

    .btn-back:hover {
      background: white;
      color: #2ecc71;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .page-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .page-title {
      font-size: 2.5em;
      color: #2c3e50;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .page-subtitle {
      color: #666;
      font-size: 1.1em;
    }

    .controls {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }

    .controls label {
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-weight: 600;
      color: #2c3e50;
      font-size: 0.95em;
    }

    .controls select,
    .controls input {
      padding: 10px 15px;
      border-radius: 10px;
      border: 2px solid #e0e0e0;
      font-size: 1em;
      min-width: 200px;
      transition: all 0.3s;
    }

    .controls select:focus,
    .controls input:focus {
      outline: none;
      border-color: #2ecc71;
      box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.1);
    }

    .controls button {
      background: linear-gradient(135deg, #2ecc71, #27ae60);
      color: white;
      padding: 10px 25px;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      align-self: flex-end;
    }

    .controls button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(46, 204, 113, 0.3);
    }

    #productGrid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
    }

    .product-card {
      background: white;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
    }

    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
    }

    .product-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 15px;
      margin-bottom: 20px;
    }

    .product-category {
      display: inline-block;
      background: #e8f5e9;
      color: #27ae60;
      padding: 6px 12px;
      border-radius: 15px;
      font-size: 0.85em;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .product-card h3 {
      color: #2c3e50;
      font-size: 1.3em;
      margin-bottom: 10px;
      min-height: 60px;
    }

    .product-actions {
      margin-top: auto;
      display: flex;
      gap: 10px;
    }

    .btn-buy {
      flex: 1;
      background: linear-gradient(135deg, #2ecc71, #27ae60);
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      text-align: center;
    }

    .btn-buy:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(46, 204, 113, 0.4);
    }

    .btn-local {
      background: #f8f9fa;
      color: #2c3e50;
      padding: 12px 20px;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .btn-local:hover {
      border-color: #2ecc71;
      background: white;
    }

    .no-results {
      grid-column: 1 / -1;
      text-align: center;
      padding: 60px 20px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .no-results-icon {
      font-size: 4em;
      margin-bottom: 20px;
    }

    .no-results h3 {
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .no-results p {
      color: #666;
    }

    footer {
      text-align: center;
      padding: 30px 20px;
      color: #666;
      font-size: 0.9em;
      margin-top: 40px;
    }

    @media (max-width: 900px) {
      #productGrid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }

      .controls {
        flex-direction: column;
      }

      .controls select,
      .controls input {
        width: 100%;
      }

      .page-title {
        font-size: 2em;
      }

      .product-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-content">
      <a href="/home" class="nav-logo">
        <span class="logo-icon">üåæ</span>
        <span>Agricure</span>
      </a>
      <a href="/home" class="btn-back">‚Üê Back to Home</a>
    </div>
  </nav>

  <main class="container">
    <header class="page-header">
      <h1 class="page-title">üè™ Supplement Store</h1>
      <p class="page-subtitle">Browse and purchase recommended agricultural products</p>
    </header>

    <div class="controls">
      <label>
        Filter by Category
        <select id="categoryFilter">
          <option value="all">All Products</option>
          <option value="fungicides">Fungicides</option>
          <option value="insecticides">Insecticides</option>
          <option value="fertilizers">Fertilizers & Supplements</option>
        </select>
      </label>

      <label>
        Search
        <input id="searchInput" placeholder="Search products..." />
      </label>

      <button id="resetBtn">Reset Filters</button>
    </div>

    <div id="productGrid"></div>

    <footer>
      Purchase links connect to Amazon India for easy ordering. Product availability may vary.
    </footer>
  </main>

  <script>
    const ALL_PRODUCTS = [
      { name: "Copper Hydroxide spray", category: "fungicides" },
      { name: "Streptomycin sulfate", category: "fungicides" },
      { name: "Bacillus subtilis bio-fungicide", category: "fungicides" },
      { name: "Mancozeb 75% WP", category: "fungicides" },
      { name: "Chlorothalonil", category: "fungicides" },
      { name: "Azoxystrobin", category: "fungicides" },
      { name: "Metalaxyl + Mancozeb", category: "fungicides" },
      { name: "Cymoxanil + Mancozeb", category: "fungicides" },
      { name: "Dimethomorph", category: "fungicides" },
      { name: "Copper oxychloride", category: "fungicides" },
      { name: "Copper fungicides", category: "fungicides" },
      { name: "Biological fungicides (Bacillus)", category: "fungicides" },
      { name: "Abamectin", category: "insecticides" },
      { name: "Spiromesifen", category: "insecticides" },
      { name: "Insecticidal soap", category: "insecticides" },
      { name: "Neem oil", category: "insecticides" },
      { name: "Imidacloprid", category: "insecticides" },
      { name: "Thiamethoxam", category: "insecticides" },
      { name: "Acetamiprid", category: "insecticides" },
      { name: "Balanced NPK fertilizer", category: "fertilizers" },
      { name: "Organic compost", category: "fertilizers" },
      { name: "Potassium-rich fertilizer", category: "fertilizers" },
      { name: "Calcium supplement", category: "fertilizers" },
      { name: "Reflective mulch", category: "fertilizers" },
      { name: "Yellow sticky traps", category: "fertilizers" }
    ];

    const PRODUCT_IMAGES = {
      "copper hydroxide spray": "copper-hydroxide-spray.jpg",
      "streptomycin sulfate": "streptomycin-sulfate.jpg",
      "bacillus subtilis bio-fungicide": "bacillus-subtilis.jpg",
      "mancozeb 75% wp": "mancozeb.jpg",
      "chlorothalonil": "chlorothalonil.jpg",
      "azoxystrobin": "azoxystrobin.jpg",
      "metalaxyl + mancozeb": "metalaxyl-mancozeb.jpg",
      "cymoxanil + mancozeb": "cymoxanil-mancozeb.jpg",
      "dimethomorph": "dimethomorph.jpg",
      "copper oxychloride": "copper-oxychloride.jpg",
      "copper fungicides": "copper-fungicides.jpg",
      "biological fungicides (bacillus)": "biological-fungicides.jpg",
      "abamectin": "abamectin.jpg",
      "spiromesifen": "spiromesifen.jpg",
      "insecticidal soap": "neem-oil.jpg",
      "neem oil": "neem-oil.jpg",
      "imidacloprid": "imidacloprid.jpg",
      "thiamethoxam": "thiamethoxam.jpg",
      "acetamiprid": "acetamiprid.jpg",
      "balanced npk fertilizer": "balanced-npk-fertilizer.jpg",
      "organic compost": "organic-compost.jpg",
      "potassium-rich fertilizer": "potassium-fertilizer.jpg",
      "calcium supplement": "calcium-supplement.jpg",
      "reflective mulch": "reflective-mulch.jpg",
      "yellow sticky traps": "yellow-sticky-traps.jpg"
    };

    function getProductImage(productName) {
      const key = productName.toLowerCase().trim();
      const imageName = PRODUCT_IMAGES[key];
      return imageName ? `/static/images/${imageName}` : '/static/images/product-default.jpg';
    }

    function getCategoryLabel(category) {
      const labels = {
        'fungicides': 'üß™ Fungicide',
        'insecticides': 'üêõ Insecticide',
        'fertilizers': 'üå± Fertilizer/Supplement'
      };
      return labels[category] || category;
    }

    function purchaseUrl(productName) {
      return `https://www.amazon.in/s?k=${encodeURIComponent(productName)}`;
    }

    const productGrid = document.getElementById('productGrid');
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const resetBtn = document.getElementById('resetBtn');

    function render() {
      const query = searchInput.value.trim().toLowerCase();
      const category = categoryFilter.value;
      productGrid.innerHTML = '';

      let count = 0;

      ALL_PRODUCTS.forEach(product => {
        if (category !== 'all' && product.category !== category) return;
        if (query && !product.name.toLowerCase().includes(query)) return;

        count++;

        const card = document.createElement('div');
        card.className = 'product-card';
        
        card.innerHTML = `
          <img src="${getProductImage(product.name)}" alt="${product.name}" onerror="this.src='/static/images/product-default.jpg'">
          <div class="product-category">${getCategoryLabel(product.category)}</div>
          <h3>${product.name}</h3>
          <div class="product-actions">
            <a href="${purchaseUrl(product.name)}" target="_blank" rel="noopener" class="btn-buy">
              üõí Buy on Amazon
            </a>
            <a href="https://www.bing.com/maps?q=pesticide+stores+in+hyderabad" target="_blank" rel="noopener" class="btn-local">
              üìç
            </a>
          </div>
        `;

        productGrid.appendChild(card);
      });

      if (count === 0) {
        productGrid.innerHTML = `
          <div class="no-results">
            <div class="no-results-icon">üîç</div>
            <h3>No Products Found</h3>
            <p>Try adjusting your search or filter</p>
          </div>
        `;
      }
    }

    searchInput.addEventListener('input', render);
    categoryFilter.addEventListener('change', render);
    resetBtn.addEventListener('click', () => {
      searchInput.value = '';
      categoryFilter.value = 'all';
      render();
    });

    render();
  </script>
</body>
</html>